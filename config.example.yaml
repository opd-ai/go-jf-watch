# go-jf-watch Configuration Example
# Copy this file to config.yaml and adjust the settings for your environment

# Jellyfin server configuration
jellyfin:
  server_url: "https://your-jellyfin-server.com"  # Required: Your Jellyfin server URL
  api_key: "your-jellyfin-api-key"                # Required: API key from Jellyfin dashboard
  user_id: "your-jellyfin-user-id"                # Required: Your user ID from Jellyfin
  timeout: "30s"                                   # Connection timeout
  retry_attempts: 3                                # Number of retry attempts for failed requests

# Cache storage configuration  
cache:
  directory: "./cache"                             # Local cache directory
  max_size_gb: 500                                 # Maximum cache size in GB
  eviction_threshold: 0.85                         # Start cleanup at 85% capacity
  metadata_store: "boltdb"                         # Metadata storage (boltdb or flatfile)
  temp_directory: "./cache/temp"                   # Temporary download directory

# Download management
download:
  workers: 3                                       # Number of concurrent download workers
  rate_limit_mbps: 10                             # Maximum download speed in Mbps
  rate_limit_schedule:
    peak_hours: "06:00-23:00"                     # Peak hours for bandwidth limiting
    peak_limit_percent: 25                        # Bandwidth limit during peak hours (%)
  auto_download_current: true                     # Download current episode immediately
  auto_download_next: true                        # Queue next episodes automatically
  auto_download_count: 2                          # Number of episodes to queue ahead
  current_episode_priority: true                  # Use full bandwidth for current episode
  retry_attempts: 5                               # Retry attempts for failed downloads
  retry_delay: "1s"                               # Initial retry delay

# HTTP server configuration
server:
  port: 8080                                      # Web UI port
  host: "0.0.0.0"                                # Listen address (0.0.0.0 for all interfaces)
  read_timeout: "15s"                            # HTTP read timeout
  write_timeout: "15s"                           # HTTP write timeout
  enable_compression: true                        # Enable gzip compression

# Predictive download settings
prediction:
  enabled: true                                   # Enable predictive downloads
  sync_interval: "4h"                            # Library sync interval
  history_days: 30                               # Days of viewing history to analyze
  min_confidence: 0.7                            # Minimum confidence for predictions

# Logging configuration
logging:
  level: "info"                                  # Log level (debug, info, warn, error)
  format: "json"                                 # Log format (json, text)
  file: ""                                       # Log file path (empty for stderr)
  max_size_mb: 100                              # Maximum log file size in MB

# User interface settings
ui:
  theme: "auto"                                  # UI theme (light, dark, auto)
  language: "en"                                 # Interface language
  video_quality_preference: "original"          # Preferred video quality